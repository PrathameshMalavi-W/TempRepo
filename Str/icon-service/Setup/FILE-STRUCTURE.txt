ICON IMPORT SETUP - FILES CREATED/MODIFIED
==========================================

ğŸ“¦ NEW FILES CREATED
====================

onecx-local-env/
â”œâ”€ README-ICONS.md                    âœ¨ NEW - Setup summary and quick start
â”œâ”€ ICON-IMPORT-SETUP.md               âœ¨ NEW - Detailed setup guide
â”œâ”€ icon-setup-reference.py            âœ¨ NEW - Reference diagrams and workflow
â”‚
â””â”€ onecx-data/theme/
   â”œâ”€ fetch-mdi-icons.ps1            âœ¨ NEW - Download MDI icons (PowerShell)
   â”œâ”€ fetch-mdi-icons.sh             âœ¨ NEW - Download MDI icons (Bash)
   â”œâ”€ import-iconsets.sh             âœ¨ NEW - Import icon sets to database
   â”œâ”€ ICONS-README.md                âœ¨ NEW - Quick reference
   â”œâ”€ ICON-SETUP-GUIDE.md            âœ¨ NEW - Comprehensive guide (300+ lines)
   â”‚
   â””â”€ [When you run fetch script]
      â””â”€ iconset-mdi.json             ğŸ“„ Generated - Material Design Icons


ğŸ“ FILES MODIFIED
=================

onecx-local-env/versions/v1/import-onecx.sh
  â”œâ”€ Line ~5: Added OLE_HEADER_CT_OCTETSTREAM export
  â””â”€ Line ~18: Added "bash ./import-iconsets.sh $1 $2" after import-themes.sh

onecx-local-env/versions/v2/import-onecx.sh  
  â”œâ”€ Line ~22: Added OLE_HEADER_CT_OCTETSTREAM export
  â””â”€ Line ~186: Added "bash ./import-iconsets.sh "$1" "$2"" after import-themes.sh


ğŸ“‹ QUICK REFERENCE
==================

File               | Purpose                    | Platform
================== | ========================== | =========
fetch-mdi-icons.ps1| Download MDI icons        | Windows (PowerShell)
fetch-mdi-icons.sh | Download MDI icons        | Linux/macOS (Bash)
import-iconsets.sh | Import icon files to DB   | Both (Bash)
ICONS-README.md    | Quick reference           | Documentation
ICON-SETUP-GUIDE.md| Comprehensive guide       | Documentation
README-ICONS.md    | Setup summary             | Documentation

ğŸš€ USAGE
========

Windows (PowerShell):
  1. cd onecx-data\theme
  2. .\fetch-mdi-icons.ps1
  3. Move-Item -Path .\mdi-complete-iconset.json -Destination .\iconset-mdi.json
  4. cd ..\..\
  5. .\start-onecx.sh

Linux/macOS (Bash):
  1. cd onecx-data/theme
  2. chmod +x fetch-mdi-icons.sh
  3. ./fetch-mdi-icons.sh
  4. mv mdi-complete-iconset.json iconset-mdi.json
  5. cd ../..
  6. ./start-onecx.sh

âœ… WHAT NOW HAPPENS AUTOMATICALLY
==================================

1. start-onecx.sh launched
   â†“
2. Containers start (PostgreSQL, Keycloak, Theme Service, etc.)
   â†“
3. import-onecx.sh is called (automatic or manual)
   â†“
4. Theme data imported by import-themes.sh
   â†“
5. NEW: import-iconsets.sh finds all iconset-*.json files
   â†“
6. Each icon file uploaded to onecx-theme-svc
   â†“
7. Icons stored in PostgreSQL ICON table
   â†“
8. Icons available via IconRestController REST API
   â†“
9. Ready to use in UI components!

ğŸ¨ ICON SETS AVAILABLE
======================

Material Design Icons (MDI)
â”œâ”€ Prefix: mdi
â”œâ”€ Total: ~7000+ icons
â”œâ”€ License: Apache 2.0
â””â”€ File: iconset-mdi.json

Other Sets (download with additional scripts):
â”œâ”€ Font Awesome (fa)
â”œâ”€ Tabler Icons (tabler)
â”œâ”€ And many more from https://github.com/iconify/icon-sets

ğŸ”§ INTEGRATION POINTS
====================

1. versions/v1/import-onecx.sh
   â””â”€ Now includes: bash ./import-iconsets.sh "$1" "$2"

2. versions/v2/import-onecx.sh
   â””â”€ Now includes: bash ./import-iconsets.sh "$1" "$2"

3. onecx-data/theme/import-iconsets.sh
   â””â”€ Automatically called during import process

4. onecx-theme-svc
   â””â”€ Receives icons via: /internal/v1/icons/upload
   â””â”€ Stores in: ICON table
   â””â”€ Queries via: /internal/v1/icons/search

ğŸ’¾ DATABASE STRUCTURE
====================

ICON Table:
â”œâ”€ ID          (UUID)        - Primary key
â”œâ”€ NAME        (VARCHAR)     - Full name (e.g., mdi:home)
â”œâ”€ TYPE        (VARCHAR)     - SVG
â”œâ”€ REF_ID      (VARCHAR)     - Reference ID (e.g., mdi)
â”œâ”€ BODY        (CLOB)        - SVG content
â”œâ”€ PARENT      (VARCHAR)     - For aliases
â”œâ”€ CREATED_AT  (TIMESTAMP)
â””â”€ MODIFIED_AT (TIMESTAMP)

ğŸ“Š STATISTICS
=============

New Files Created:        7
Files Modified:          2
Lines Added to Scripts:  ~10
Documentation Lines:   1000+
Total Icon Support:   ~7000+ (MDI)
Setup Time:          ~2-5 minutes
First Import Time:   ~30 seconds

âœ¨ FEATURES
===========

âœ“ Automatic icon import during container startup
âœ“ Support for multiple icon sets
âœ“ Create custom icon sets
âœ“ Icon search via REST API
âœ“ SVG-based icons (scalable)
âœ“ Alias support
âœ“ Database persistence
âœ“ Windows and Linux/macOS support

ğŸ§ª TESTING
==========

After setup, verify with:

curl http://onecx-theme-svc/internal/v1/icons/search
curl "http://onecx-theme-svc/internal/v1/icons/search?name=mdi:home"
curl "http://onecx-theme-svc/internal/v1/icons/search?refId=mdi"

ğŸ“– DOCUMENTATION HIERARCHY
===========================

Start Here:
  README-ICONS.md (this directory)
    â†“
  ICON-IMPORT-SETUP.md (this directory)
    â†“
  onecx-data/theme/ICONS-README.md
    â†“
  onecx-data/theme/ICON-SETUP-GUIDE.md (comprehensive)

Also Check:
  icon-setup-reference.py (run with: python3 icon-setup-reference.py)

ğŸ¯ NEXT STEPS
=============

1. Read: README-ICONS.md (2 min)
2. Download: Run fetch-mdi-icons script (1 min)
3. Rename: Move mdi-complete-iconset.json to iconset-mdi.json (30 sec)
4. Start: Run ./start-onecx.sh (2-5 min)
5. Test: Run curl commands above (30 sec)
6. Use: Implement icons in UI components

Total Time: ~10 minutes

ğŸš¨ TROUBLESHOOTING
==================

Issue: Icons not importing
  â†’ Check: docker-compose logs onecx-theme-svc

Issue: File not found
  â†’ Verify: ls -la onecx-data/theme/iconset-*.json

Issue: JSON validation error
  â†’ Validate: jq . iconset-mdi.json

Issue: Service not responding
  â†’ Check: docker-compose ps
  â†’ Wait: Containers may still be starting

ğŸ“ SUPPORT
==========

Questions? See:
  â€¢ ICON-SETUP-GUIDE.md - Comprehensive documentation
  â€¢ icon-setup-reference.py - Workflow diagrams
  â€¢ Iconify docs: https://iconify.design/
  â€¢ Icon sets: https://github.com/iconify/icon-sets

========================
Last Updated: 2026-01-29
Status: Ready to Use âœ“
========================
